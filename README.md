# Coding Assignment for Data Scientist Position at Magenta

Hello! You made it to the second round of interviews for the Data Scientist position at Magenta – congratulations!  
This step is designed to help us get to know each other better. You'll get the chance to work in a development environment that closely resembles the one we use at Magenta.

---

## Quick Start

This repository contains example pipelines and data for your interview assignment.

> This setup is based on [l-mds/local-data-stack](https://github.com/l-mds/local-data-stack), which may be useful for your own data projects.  
> More info: https://georgheiler.com/post/lmds-template/

Steps to get started:

- Clone the repository to your GitHub space.
- Open a **Codespace** – setup may take 1–2 minutes.
- In the terminal, run `pixi run start-dev` – this command will start your Pixi environment.
- Open your browser and go to `https://<your-code-space-name>-<random-chars>-3000.app.github.dev/`  
  or click **"Open in Browser"** when prompted.
- You can now access the **Dagster** code location. Click **"Materialize an asset"** to view the assets we've prepared.
- You're now ready to begin the assignment.


## Your Assignment

Imagine you are a data scientist at Magenta and your task is to pitch a new use case for upselling activities to the marketing department.  
The goal is to apply machine learning to better identify which customers to target for upselling campaigns.

> **Upselling**: When a customer upgrades to a better and more expensive product.  
> Example: A customer currently has a mobile contract with 10 GB data. After a marketing intervention, they upgrade to a 50 GB tariff.

### The assignment consists of two parts:

---

### 1. Coding Part

Try to integrate your code into this repository, following the structure provided.

We’ve prepared three datasets:

- `core_data`: contract-level information
- `usage_info`: data usage and roaming activity from the past 3 months
- `cases`: customer service interaction records

To access all sample data, materialize the assets in the `get_data` group under the `interview` folder:

![Data assets](image.png)

In the notebook `notebooks/explore.ipynb`, you can load and explore the materialized data.

We ask you to contribute to the following folder:  
`src/code_location_interview/code_location_interview/assets/magenta_interview`

We’ve pre-filled some structure there, but feel free to adjust it as you see fit.

> Tip: After changing or creating assets, reload them in Dagster to reflect updates:

![Reload assets](image-1.png)

---

### 2. Presentation Part

Use any tool you prefer (e.g., PowerPoint, Google Slides) to prepare a **15-minute presentation** for a **non-technical business audience**.

Imagine you are in the early phase of the project. You’ve performed some exploratory analysis and now you’re presenting your idea to stakeholders.

> The presentation does not need to reflect only what you’ve implemented in code.  
> Feel free to assume access to more features or experimentation with different approaches.

Please cover the following points:

- How would you communicate the business value of your solution?
- What metric would you use to measure success?
- How would you compute the business value generated by your model?
- Which stakeholders would you involve, and at what stages?
- What modeling approach would you propose? (e.g. input features, model type, evaluation)


## Useful Literature

- Pixi: https://pixi.sh/latest/advanced/installation/
- Dagster: https://dagster.io/  
  Further learning: https://courses.dagster.io/
- dbt: https://www.getdbt.com/

## advanced usage
# ## docker

```bash
docker compose -f docker-compose.yml --profile dagster_onprem up --build
```

### .env  file

Post install:

- update the secrets in the `.env` files by executing: `openssl rand -base64 32` and setting a suitable secret
- ensure the `.env.enc` can be created by following the instructions in [documentation/secops]

here you find an example `.env` file which should have been auto-generated

```
DO_NOT_TRACK=1

WAREHOUSE_DAGSTER_HOSTNAME=dagster_db
WAREHOUSE_DAGSTER_DB=dagster
WAREHOUSE_DAGSTER_USER=dagster
# openssl rand -base64 32
WAREHOUSE_DAGSTER_PASSWORD=<<your-secret>>

# only set this for dev mode!
DAGSTER_IS_DEV_CLI=True

# only set in the container (should be done from CI pipeline)
#DAGSTER_CLOUD_DEPLOYMENT_NAME=techexploration
#DAGSTER_CLOUD_GIT_URL=https://github.com/myorg/interview
#DAGSTER_CLOUD_GIT_SHA=<<your sha>>
#DAGSTER_CLOUD_GIT_BRANCH=main
```
